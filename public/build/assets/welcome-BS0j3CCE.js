document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("header"),s=document.getElementById("mobileMenuBtn"),i=document.getElementById("mobileMenu"),o=s?s.querySelector("i"):null;a&&window.addEventListener("scroll",()=>{a.classList.toggle("scrolled",window.scrollY>50)}),s&&i&&o&&(s.addEventListener("click",()=>{i.classList.toggle("active"),o.className=i.classList.contains("active")?"fas fa-times":"fas fa-bars"}),document.querySelectorAll(".mobile-menu a").forEach(t=>{t.addEventListener("click",()=>{i.classList.remove("active"),o.className="fas fa-bars"})}));const r=new IntersectionObserver((t,e)=>{t.forEach(n=>{n.isIntersecting&&(n.target.classList.add("visible"),e.unobserve(n.target))})},{threshold:.1});document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-zoom").forEach(t=>r.observe(t));const l=document.getElementById("contactForm");l&&l.addEventListener("submit",function(t){t.preventDefault();const e=this.querySelector('button[type="submit"]');if(!e)return;const n=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin" style="margin-left: 8px;"></i> جارٍ الإرسال...',e.disabled=!0,setTimeout(()=>{alert("تم استلام رسالتك بنجاح. شكراً لتواصلك معنا!"),this.reset(),e.innerHTML=n,e.disabled=!1},1500)})});
